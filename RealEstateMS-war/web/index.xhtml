<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"

      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>


        <ui:composition template="./templates/basicTemplate.xhtml">



            <ui:define name="content">
                

                <h:form>
                    <h:panelGroup layout="block" class="page-header">
                        <h1><h:outputText value="Recently added realestate"/></h1>
                    </h:panelGroup>

                    <c:forEach items="#{propertyManagedBean.propertyDetailsList}" var="property" varStatus="iterRow">
                        <h:panelGroup layout="block" class="row" style="margin-bottom: 20px;border-bottom: 1px solid #eeeeee;margin-left: 0px;margin-right:0px;padding-bottom:10px">

                            <h:panelGroup layout="block" class="col-sm-4" > 


                                <h:graphicImage  value="images/#{property.propertyId}" height="100" width="100"/>

                            </h:panelGroup>
                            
                            <h:panelGroup layout="block" class="col-sm-6" > 
                                <h:panelGrid columns="2">

                                    <h:commandLink action="#{propertyManagedBean.viewPropertyDetails(property.propertyId)}" value="#{property.propertyTitle}"  />
                                    <h:outputText />

                                    <h:panelGrid columns="2" >
                                        <h:outputText value="Area: #{property.area}m&lt;sup&gt;2 &lt;/sup&gt; | " escape="false"/>
                                        <h:outputText value="Locality: #{property.locationId.locality}"/>
                                    </h:panelGrid>
                                    <h:outputText />


                                    <h:outputText value="#{propertyManagedBean.findPropertyCategoryName(property.categoryId.categoryId)}"/>
                                </h:panelGrid>
                            </h:panelGroup>

                            <h:panelGroup layout="block" class="col-sm-2" style="text-align: right">

                                <h:panelGrid columns="1" >
                                    <h:outputText value="#{property.lumpsumCost.setScale(2)} €" />
                                    <h:outputText value="#{property.lumpsumCost.setScale(0)/property.area}  €/m&lt;sup&gt;2 &lt;/sup&gt;" escape="false"/>
                                </h:panelGrid>

                                


                            </h:panelGroup>
                        </h:panelGroup>

                    </c:forEach>



                </h:form>
            </ui:define>



        </ui:composition>

    </body>










</html>
